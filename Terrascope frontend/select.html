<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <title>Select Field – TerraScope</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="fade-in">

<header class="navbar">
  <div class="logo">
    <h1>TerraScope</h1>
    <span data-key="select_tagline">Select Field Location</span>
  </div>
</header>

<section class="container">

  <p class="step-label">
    Step 1 of 2 — Select your field
  </p>

  <h2>Select Your Field Location</h2>

  <p class="subtitle">
    Choose how you want to identify your farmland.
  </p>

  <!-- ===============================
       LOCATION + METHOD + CROP
  ================================ -->
  <div class="selection-controls">

    <!-- Use current location -->
    <button id="locateBtn" class="secondary-btn">
      Use My Current Location
    </button>

    <!-- Field selection method -->
    <div class="method-wrapper">
      <label class="field-label">
        Field Selection Method
      </label>

      <select id="selectionMode" class="mode-select">
        <option value="point">Point (Quick)</option>
        <option value="polygon">Boundary (Accurate)</option>
        <option value="record">7/12 Land Record (Recommended)</option>
      </select>
    </div>

    <!-- Crop selection -->
    <div class="method-wrapper">
      <label class="field-label">
        Crop Grown on This Field
      </label>

      <select id="cropSelect" class="mode-select">
        <option value="general">General / Mixed Crops</option>
        <option value="rice">Rice</option>
        <option value="wheat">Wheat</option>
        <option value="cotton">Cotton</option>
      </select>
    </div>

  </div>

  <!-- ===============================
       MAP
  ================================ -->
  <div id="map"></div>

  <!-- ===============================
       7/12 UPLOAD
  ================================ -->
  <div id="recordBox" class="record-box" style="display:none;">

    <p class="subtitle">
      Upload your 7/12 land record to auto-read survey details.
    </p>

    <label class="field-label">Upload 7/12 Document</label>
    <input type="file" id="satbaraFile" accept=".pdf,.jpg,.png">

    <label class="field-label">Village Name</label>
    <input type="text" id="villageInput" placeholder="Eg. Panvel">

    <label class="field-label">Survey Number</label>
    <input type="text" id="surveyInput" placeholder="Eg. 45/2A">

  </div>

  <!-- ===============================
       ACTION BAR
  ================================ -->
  <div class="action-bar">
    <span id="coords">
      No location selected
    </span>

    <a id="continueBtn"
       class="primary-btn disabled"
       href="dashboard.html">
      Analyze Field
    </a>
  </div>

</section>

<!-- ===============================
     SCRIPTS
================================ -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>

<script src="js/lang.js"></script>
<script src="js/app.js"></script>

<!-- Toggle map vs 7/12 -->
<script>
  const modeSelect = document.getElementById("selectionMode");
  const recordBox = document.getElementById("recordBox");
  const mapBox = document.getElementById("map");

  modeSelect.addEventListener("change", () => {
    if (modeSelect.value === "record") {
      recordBox.style.display = "block";
      mapBox.classList.add("map-disabled");
    } else {
      recordBox.style.display = "none";
      mapBox.classList.remove("map-disabled");
    }
  });
</script>

</body>
</html>
